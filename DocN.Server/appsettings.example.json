{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Information"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Server=YOUR_SERVER;Database=DocNDb;Trusted_Connection=True;MultipleActiveResultSets=true;TrustServerCertificate=True;Encrypt=True",
    "DocArc": "Server=YOUR_SERVER;Database=DocNDb;Trusted_Connection=True;MultipleActiveResultSets=true;TrustServerCertificate=True;Encrypt=True",
    "Redis": "localhost:6379,password=your_redis_password,ssl=false,abortConnect=false"
  },
  "Urls": "https://localhost:5211;http://localhost:5210",
  "AI": {
    "DefaultProvider": "Database",
    "TimeoutSeconds": 120
  },
  "AIProvider": {
    "DefaultProvider": "Ollama",
    "OpenAI": {
      "ApiKey": "",
      "EmbeddingModel": "text-embedding-3-small",
      "ChatModel": "gpt-4-turbo"
    },
    "AzureOpenAI": {
      "Endpoint": "",
      "ApiKey": "",
      "EmbeddingDeployment": "text-embedding-ada-002",
      "ChatDeployment": "gpt-4",
      "ApiVersion": "2024-02-15-preview"
    },
    "Gemini": {
      "ApiKey": "",
      "EmbeddingModel": "text-embedding-004",
      "GenerationModel": "gemini-1.5-pro"
    },
    "Ollama": {
      "Endpoint": "http://localhost:11434",
      "EmbeddingModel": "nomic-embed-text",
      "ChatModel": "llama3"
    },
    "Groq": {
      "ApiKey": "",
      "ChatModel": "llama-3.1-8b-instant",
      "Endpoint": "https://api.groq.com/openai/v1"
    }
  },
  "_comment_legacy_ai_config": "The following OpenAI, AzureOpenAI, and Gemini sections are legacy configurations. Use AIProvider section above for document analysis features.",
  "OpenAI": {
    "ApiKey": "",
    "Model": "gpt-4"
  },
  "AzureOpenAI": {
    "Endpoint": "",
    "ApiKey": "",
    "ChatDeployment": "gpt-4",
    "EmbeddingDeployment": "text-embedding-ada-002"
  },
  "Gemini": {
    "ApiKey": "",
    "Model": "gemini-pro"
  },
  "OpenTelemetry": {
    "OtlpEndpoint": ""
  },
  "RabbitMQ": {
    "HostName": "localhost",
    "Port": "5672",
    "UserName": "docn",
    "Password": "your_rabbitmq_password",
    "VirtualHost": "/"
  },
  "AzureAd": {
    "Instance": "https://login.microsoftonline.com/",
    "Domain": "your-domain.com",
    "TenantId": "YOUR-TENANT-ID",
    "ClientId": "YOUR-CLIENT-ID",
    "ClientSecret": "YOUR-CLIENT-SECRET",
    "CallbackPath": "/signin-oidc",
    "SignedOutCallbackPath": "/signout-callback-oidc"
  },
  "Okta": {
    "OktaDomain": "https://YOUR-DOMAIN.okta.com",
    "ClientId": "YOUR-CLIENT-ID",
    "ClientSecret": "YOUR-CLIENT-SECRET",
    "CallbackPath": "/authorization-code/callback",
    "SignedOutCallbackPath": "/signout-callback"
  },
  "EnhancedRAG": {
    "UseEnhancedAgentRAG": false,
    "QueryAnalysis": {
      "Enabled": true,
      "MaxExpansionTerms": 10,
      "IncludeSynonyms": true,
      "EnableHyDE": true,
      "EnableQueryRewriting": true
    },
    "Retrieval": {
      "DefaultTopK": 10,
      "MinSimilarity": 0.5,
      "FallbackToKeyword": true,
      "UseChunkRetrieval": true,
      "CandidateMultiplier": 2,
      "EnableHybridSearch": false
    },
    "Reranking": {
      "Enabled": true,
      "RerankingModel": null,
      "ConsiderDiversity": true,
      "EnableTemporalWeighting": false,
      "RecencyWeight": 0.1,
      "MMRLambda": 0.7
    },
    "Synthesis": {
      "MaxContextLength": 4000,
      "IncludeCitations": true,
      "ConfidenceThreshold": 0.7,
      "EnableContextualCompression": false,
      "MaxRefinementIterations": 0,
      "EnableFactChecking": false
    },
    "Telemetry": {
      "EnableDetailedLogging": true,
      "TrackPerformance": true,
      "TrackTokenUsage": true,
      "TrackAgentDecisions": false
    },
    "Caching": {
      "EnableRetrievalCache": true,
      "EnableQueryAnalysisCache": true,
      "CacheExpirationHours": 1,
      "EnableSemanticCache": false,
      "SemanticCacheSimilarityThreshold": 0.95
    }
  },
  "AlertManager": {
    "Enabled": false,
    "Endpoint": "http://localhost:9093",
    "Routing": {
      "DefaultReceiver": "default",
      "Email": {
        "Enabled": false,
        "SmtpHost": "smtp.gmail.com",
        "SmtpPort": 587,
        "SmtpUsername": "",
        "SmtpPassword": "",
        "UseSsl": true,
        "FromAddress": "",
        "ToAddresses": []
      },
      "Slack": {
        "Enabled": false,
        "WebhookUrl": "",
        "Channel": "#alerts",
        "Username": "DocN Alert Bot",
        "IconEmoji": ":alert:"
      },
      "Webhooks": []
    },
    "Rules": [
      {
        "Name": "HighCPU",
        "Description": "CPU usage is critically high",
        "Severity": "critical",
        "Metric": "cpu_usage",
        "Threshold": 90.0,
        "Operator": ">",
        "Duration": "00:05:00",
        "Enabled": true,
        "Labels": {
          "component": "system"
        },
        "Annotations": {
          "summary": "High CPU usage detected",
          "runbook": "Check system processes and consider scaling"
        }
      },
      {
        "Name": "HighMemory",
        "Description": "Memory usage is critically high",
        "Severity": "critical",
        "Metric": "memory_usage",
        "Threshold": 90.0,
        "Operator": ">",
        "Duration": "00:05:00",
        "Enabled": true,
        "Labels": {
          "component": "system"
        },
        "Annotations": {
          "summary": "High memory usage detected",
          "runbook": "Check for memory leaks and consider scaling"
        }
      },
      {
        "Name": "HighLatency",
        "Description": "API response latency is high",
        "Severity": "warning",
        "Metric": "api_latency_p95",
        "Threshold": 2000.0,
        "Operator": ">",
        "Duration": "00:05:00",
        "Enabled": true,
        "Labels": {
          "component": "api"
        },
        "Annotations": {
          "summary": "High API latency detected",
          "runbook": "Check database queries and external service calls"
        }
      },
      {
        "Name": "HighErrorRate",
        "Description": "Error rate is critically high",
        "Severity": "critical",
        "Metric": "error_rate",
        "Threshold": 5.0,
        "Operator": ">",
        "Duration": "00:05:00",
        "Enabled": true,
        "Labels": {
          "component": "api"
        },
        "Annotations": {
          "summary": "High error rate detected",
          "runbook": "Check logs for recurring errors and fix root cause"
        }
      }
    ]
  }
}
